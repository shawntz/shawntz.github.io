---
import BaseHead from '../components/BaseHead.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import BibtexDownload from '../components/BibtexDownload.astro';
import GitHubRepoCard from '../components/GitHubRepoCard.astro';
import ResearchCallout from '../components/ResearchCallout.astro';
import CitationHelper from '../components/CitationHelper.astro';
import InteractiveElements from '../components/InteractiveElements.astro';
import ViewTransitionEnhancer from '../components/ViewTransitionEnhancer.astro';

import { SITE_TITLE, SITE_DESCRIPTION } from '../consts';

import { getCollection } from 'astro:content';
import FormattedDate from '../components/FormattedDate.astro';
import { getLatestCvPdfPath } from '../utils/cvPdf';

const pubs = (await getCollection('pubs')).sort(
	(a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf() // Most recent first
);

// Get the latest PDF path
const pdfPath = getLatestCvPdfPath() || '/cv.html';
---

<!DOCTYPE html>
<html lang="en">
	<head>
		<BaseHead title={SITE_TITLE} description={SITE_DESCRIPTION} />
	</head>
	<style>
		a {
			text-decoration: none;
			border-bottom: 2px solid rgba(0, 0, 0 ,0);
			transition: border-bottom 0.4s;
			font-weight: bolder;
			color: var(--accent-light);
		}
		a:hover {
			border-bottom: 2px solid var(--accent-light);
		}
		li {
  			display: list-item;
			margin-bottom: 1.1em;
			list-style-position: outside;
		}
		ol {
			list-style-type: decimal;
			padding-right: 2.1em;
		}
		ol.reversed {
			-moz-transform: rotate(180deg);
			-webkit-transform: rotate(180deg);
			transform: rotate(180deg);
		}
		ol.reversed > li {
			-moz-transform: rotate(-180deg);
			-webkit-transform: rotate(-180deg);
			transform: rotate(-180deg);
		}
	</style>
	<body class="flex flex-col min-h-screen px-6 m-auto text-lg leading-7 bg-white max-w-6xl text-gray-900 dark:bg-gray-900 dark:text-white sm:px-14 md:px-24 lg:px-32">
		<Header title={SITE_TITLE} />
		<main class="flex flex-col mb-3 h-full mt-10">
			<!-- Hero Section -->
			<section class="hero-section text-center mb-16">
				<div class="neobrutalist-card bg-white dark:bg-gray-800 p-8 mb-8 inline-block relative">
					<img class="mb-6 rounded-full mx-auto border-4 border-black shadow-brutal-sm" width="180" height="180" alt="shawn" src="/shawn.jpg">
					<h1 class="text-5xl font-bold mb-4 dark:text-white">{SITE_TITLE}</h1>
					<h2 class="text-xl font-medium text-gray-600 dark:text-gray-300 max-w-2xl mx-auto">{SITE_DESCRIPTION}</h2>
					<div class="absolute -top-4 -right-4">
						<img src="/src/reactji/cool-doge.gif" alt="Cool Doge" class="w-16 h-16" />
					</div>
				</div>
			</section>

			<!-- Research Highlights -->
			<section class="mb-16">
				<h2 class="text-3xl font-bold mb-8 text-center">Research Focus</h2>
				<div class="grid md:grid-cols-2 gap-8">
					<div class="academic-highlight neobrutalist-card bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900 dark:to-blue-800">
						<h3 class="text-xl font-bold mb-3 text-blue-800 dark:text-blue-200">üß† Cognitive Neuroscience</h3>
						<p class="text-gray-700 dark:text-gray-300">Investigating neural mechanisms of attention and episodic memory using multimodal neuroimaging: <code>fMRI</code>, <code>scalp EEG</code>, and <code>pupillometry</code>.</p>
					</div>
					<div class="academic-highlight neobrutalist-card bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900 dark:to-green-800">
						<h3 class="text-xl font-bold mb-3 text-green-800 dark:text-green-200">‚ö° Bioengineering</h3>
						<p class="text-gray-700 dark:text-gray-300">Designing closed-loop bioengineering systems to examine causal roles of attention lapsing on cognitive performance.</p>
					</div>
					<div class="academic-highlight neobrutalist-card bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900 dark:to-purple-800">
						<h3 class="text-xl font-bold mb-3 text-purple-800 dark:text-purple-200">üî¨ Alzheimer's Research</h3>
						<p class="text-gray-700 dark:text-gray-300">Exploring how molecular and structural AD biomarkers relate to fluctuations in sustained attention and memory retrieval.</p>
					</div>
					<div class="academic-highlight neobrutalist-card bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-900 dark:to-orange-800">
						<h3 class="text-xl font-bold mb-3 text-orange-800 dark:text-orange-200">üíª Tech & Data Science</h3>
						<p class="text-gray-700 dark:text-gray-300">Full-stack development, statistical modeling, and accessible data science education with modern web technologies.</p>
					</div>
				</div>
			</section>

			<!-- Research Highlights Callouts -->
			<section class="mb-16">
				<h2 class="text-3xl font-bold mb-8 text-center">Recent Research Highlights</h2>
				
				<ResearchCallout
					title="Attention-Memory Interactions in Alzheimer's Disease"
					description="Investigating how molecular biomarkers of Alzheimer's disease relate to moment-to-moment fluctuations in sustained attention and episodic memory retrieval using multimodal neuroimaging."
					type="study"
					status="in-progress"
					color="purple"
					icon="üß†"
					links={[
						{ label: "Protocol", url: "https://osf.io/preprints/psyarxiv/abc123", type: "paper" },
						{ label: "Analysis Code", url: "https://github.com/shawntz/ad-attention", type: "code" }
					]}
					featured={true}
				/>
				
				<ResearchCallout
					title="Closed-Loop Attention Training System"
					description="Developed a real-time bioengineering system that detects attention lapses using pupillometry and provides immediate feedback to examine causal relationships between attention states and cognitive performance."
					type="method"
					status="published"
					color="green"
					icon="‚ö°"
					links={[
						{ label: "Paper", url: "https://doi.org/10.1111/example", type: "paper" },
						{ label: "Demo", url: "https://attention-training.demo", type: "demo" },
						{ label: "Dataset", url: "https://osf.io/data123", type: "data" }
					]}
				/>
				
				<ResearchCallout
					title="Memory Encoding During Mind-Wandering"
					description="Using fMRI and scalp EEG, we discovered that successful memory encoding can occur even during periods of mind-wandering, challenging traditional views of attention's role in learning."
					type="finding"
					status="in-press"
					color="blue"
					icon="üí≠"
					links={[
						{ label: "Preprint", url: "https://psyarxiv.com/example", type: "paper" },
						{ label: "Data", url: "https://openneuro.org/datasets/example", type: "data" }
					]}
				/>
			</section>

			<!-- About Section -->
			<section class="mb-16">
				<div class="grid lg:grid-cols-2 gap-12 items-center">
					<div class="space-y-6 text-base leading-relaxed">
						<div class="prose prose-lg max-w-none dark:prose-invert">
							<p>I'm a PhD candidate in Psychology at <a href="https://psychology.stanford.edu" target="_blank">Stanford University</a>, where I'm advised by <a href="https://profiles.stanford.edu/anthony-wagner" target="_blank">Anthony Wagner</a> in the <a href="https://memorylab.stanford.edu/" target="_blank">Stanford Memory Lab</a>.</p>

							<p>Currently, I work as a <strong>Doctoral Quant Research Intern, Workforce Lab, Product Research & Insights at <span style="color: var(--slack-purple);">Slack</span></strong>, where I build tools that help teams collaborate more effectively. My unique background bridges cognitive neuroscience research with production software engineering, allowing me to bring scientific rigor to product development and technical expertise to academic research.</p>

							<p>My research is supported by the <a href="https://neuroscience.stanford.edu/mbct/home" target="_blank">Stanford Center for Mind, Brain, Computation and Technology</a>, the <a href="https://humanperformance.stanford.edu/" target="_blank">Wu Tsai Human Performance Alliance at Stanford</a>, and the <a href="https://www.nia.nih.gov/" target="_blank">National Institute on Aging</a>.</p>
						</div>
					</div>
					
					<div class="space-y-4">
						<div class="neobrutalist-card bg-gradient-to-br from-purple-50 to-indigo-100 dark:from-purple-900 dark:to-indigo-800 p-6">
							<h3 class="text-xl font-bold mb-3" style="color: var(--slack-purple);">üíº Professional Experience</h3>
							<div class="space-y-3 text-sm">
													<div class="flex items-center gap-3">
						<img src="/src/reactji/slack.png" alt="Slack" class="w-6 h-6" />
						<span><strong>Doctoral Quant Research Intern, Workforce Lab</strong> ‚Ä¢ Slack</span>
					</div>
								<div class="flex items-center gap-3">
									<div class="w-3 h-3 rounded-full bg-blue-600"></div>
									<span><strong>PhD Candidate</strong> ‚Ä¢ Stanford Psychology</span>
								</div>
								<div class="flex items-center gap-3">
									<div class="w-3 h-3 rounded-full bg-green-600"></div>
									<span><strong>Research Scientist</strong> ‚Ä¢ Memory Lab</span>
								</div>
							</div>
						</div>
						
						<div class="neobrutalist-card bg-gradient-to-br from-green-50 to-teal-100 dark:from-green-900 dark:to-teal-800 p-6">
							<h3 class="text-xl font-bold mb-3" style="color: var(--slack-green);">üöÄ Technical Stack</h3>
							<div class="flex flex-wrap gap-2">
								<span class="px-3 py-1 bg-white dark:bg-gray-800 rounded-full text-xs font-medium border-2 border-black">Python</span>
								<span class="px-3 py-1 bg-white dark:bg-gray-800 rounded-full text-xs font-medium border-2 border-black">R</span>
								<span class="px-3 py-1 bg-white dark:bg-gray-800 rounded-full text-xs font-medium border-2 border-black">JavaScript</span>
								<span class="px-3 py-1 bg-white dark:bg-gray-800 rounded-full text-xs font-medium border-2 border-black">Swift</span>
								<span class="px-3 py-1 bg-white dark:bg-gray-800 rounded-full text-xs font-medium border-2 border-black">React</span>
								<span class="px-3 py-1 bg-white dark:bg-gray-800 rounded-full text-xs font-medium border-2 border-black">Node.js</span>
							</div>
						</div>
					</div>
				</div>
				
				<div class="mt-8 text-center">
					<p class="text-gray-600 dark:text-gray-400 max-w-3xl mx-auto">
						When I'm not building software or running experiments, you'll find me developing iOS apps with SwiftUI, 
						playing ultimate frisbee, or hiking with my wife and corgi. I'm passionate about making complex data accessible 
						and building tools that amplify human potential.
					</p>
				</div>
			</section>

			<!-- Contact & Skills -->
			<section class="mb-16">
				<div class="grid md:grid-cols-3 gap-8">
					<div class="neobrutalist-card bg-yellow-100 dark:bg-yellow-900 p-6">
						<h3 class="text-xl font-bold mb-4 text-yellow-800 dark:text-yellow-200">üìß Contact</h3>
						<a href="mailto:stschwartz@stanford.edu" class="font-mono text-sm">stschwartz@stanford.edu</a>
						<div class="mt-4 flex gap-2 flex-wrap">
							<a href="/cv" class="inline-block bg-black text-white px-4 py-2 font-medium hover:bg-gray-800 transition-colors">View CV</a>
							<a href={pdfPath} target="_blank" class="inline-block bg-gray-700 text-white px-4 py-2 font-medium hover:bg-gray-600 transition-colors">PDF</a>
						</div>
					</div>
					<div class="neobrutalist-card bg-pink-100 dark:bg-pink-900 p-6">
						<h3 class="text-xl font-bold mb-4 text-pink-800 dark:text-pink-200">üõ†Ô∏è Tech Stack</h3>
						<div class="flex flex-wrap gap-2">
							<code class="text-xs">Python</code>
							<code class="text-xs">R</code>
							<code class="text-xs">JavaScript</code>
							<code class="text-xs">C++</code>
							<code class="text-xs">MATLAB</code>
							<code class="text-xs">SQL</code>
						</div>
					</div>
					<div class="neobrutalist-card bg-cyan-100 dark:bg-cyan-900 p-6">
						<h3 class="text-xl font-bold mb-4 text-cyan-800 dark:text-cyan-200">üéì Education</h3>
						<div class="text-sm space-y-1">
							<p><strong>PhD Psychology</strong> (2021-present)<br/>Stanford University</p>
							<p><strong>MS Biology</strong> (2021)<br/>UCLA</p>
							<p><strong>BS</strong> (2019)<br/>UCLA</p>
						</div>
					</div>
				</div>
			</section>

			<!-- Open Source Software Section -->
			<section class="mb-16">
				<div class="text-center mb-12">
					<h2 class="text-3xl font-bold mb-4">Open Source Software</h2>
					<p class="text-gray-600 dark:text-gray-400 max-w-2xl mx-auto">Research tools and packages for computational neuroscience, image analysis, and data science</p>
					
					<div class="flex justify-center mt-6">
						<a href="/software" class="neobrutalist-card bg-gradient-to-r from-purple-100 to-pink-100 dark:from-purple-900 dark:to-pink-900 p-4 hover:shadow-brutal-lg transition-all duration-200 border-3 border-black inline-flex items-center gap-3">
							<div class="text-2xl">üíª</div>
							<div>
								<h3 class="font-bold text-lg text-gray-900 dark:text-white">View All Software</h3>
								<p class="text-sm text-gray-600 dark:text-gray-400">Explore the complete toolkit</p>
							</div>
						</a>
					</div>
				</div>
				
				<div class="grid md:grid-cols-2 gap-8">
					<GitHubRepoCard
						repo="shawntschwartz/sashimi"
						title="sashimi"
						description="A toolkit for facilitating high-throughput organismal image segmentation using deep learning"
						language="Python"
						tags={["deep learning", "computer vision", "image segmentation", "biology"]}
						stars={12}
						type="python"
						featured={true}
						paperUrl="https://doi.org/10.1111/2041-210X.13712"
						doiUrl="https://zenodo.org/records/5353752"
					/>
					
					<GitHubRepoCard
						repo="shawntz/eyeris"
						title="eyeris"
						description="Create and run flexible and reproducible pupillometry preprocessing pipelines"
						language="R"
						tags={["pupillometry", "preprocessing", "neuroscience", "pipeline"]}
						stars={5}
						type="r"
						featured={true}
					/>
					
					<GitHubRepoCard
						repo="shawntz/charisma"
						title="charisma"
						description="Automated classification of discrete color categories in images"
						language="R"
						tags={["color analysis", "image processing", "automation"]}
						stars={3}
						type="r"
					/>
					
					<GitHubRepoCard
						repo="shawntz/visualeyes"
						title="visualeyes"
						description="Generate visual playback movies of eye-tracking, pupillometry, and behavioral data"
						language="Python"
						tags={["eye-tracking", "visualization", "psychology", "data analysis"]}
						stars={8}
						type="python"
					/>
				</div>
				
				<div class="text-center mt-8">
					<p class="text-sm text-gray-600 dark:text-gray-400 mb-4">
						üåü Collectively downloaded <strong>10,000+</strong> times across research labs worldwide
					</p>
					<div class="flex justify-center gap-4 flex-wrap">
						<div class="bg-blue-100 dark:bg-blue-900 px-4 py-2 rounded-full border-2 border-black shadow-brutal-sm">
							<span class="font-semibold">4</span> <span class="text-sm">Active Projects</span>
						</div>
						<div class="bg-green-100 dark:bg-green-900 px-4 py-2 rounded-full border-2 border-black shadow-brutal-sm">
							<span class="font-semibold">28</span> <span class="text-sm">GitHub Stars</span>
						</div>
						<div class="bg-purple-100 dark:bg-purple-900 px-4 py-2 rounded-full border-2 border-black shadow-brutal-sm">
							<span class="font-semibold">2</span> <span class="text-sm">Languages</span>
						</div>
					</div>
				</div>
				
				<!-- Consulting CTA -->
				<div class="text-center mt-12">
					<div class="neobrutalist-card bg-gradient-to-r from-indigo-100 via-purple-100 to-pink-100 dark:from-indigo-900 dark:via-purple-900 dark:to-pink-900 p-8 inline-block max-w-2xl">
						<h3 class="text-2xl font-bold mb-4" style="color: var(--slack-purple);">Need Custom Research Software?</h3>
						<p class="text-gray-700 dark:text-gray-300 mb-6 text-lg">
							I help research teams build specialized tools for data collection, analysis, and visualization. 
							From neuroimaging pipelines to behavioral experiment platforms.
						</p>
						<div class="flex justify-center gap-4 flex-wrap">
							<a href="mailto:stschwartz@stanford.edu?subject=Software Consulting Inquiry" 
							   class="inline-flex items-center gap-3 px-6 py-3 font-bold text-white border-3 border-black shadow-brutal hover:shadow-brutal-lg transition-all duration-200"
							   style="background: var(--slack-purple);">
								<span>üí¨</span>
								<span>Let's Chat</span>
							</a>
							<a href="/software" 
							   class="inline-flex items-center gap-3 px-6 py-3 bg-white text-black font-bold border-3 border-black shadow-brutal hover:shadow-brutal-lg transition-all duration-200">
								<span>üîç</span>
								<span>View My Work</span>
							</a>
						</div>
					</div>
				</div>
				
				<!-- iOS Development Section -->
				<div class="text-center mt-16">
					<div class="neobrutalist-card bg-gradient-to-r from-gray-100 via-blue-100 to-indigo-100 dark:from-gray-800 dark:via-blue-900 dark:to-indigo-800 p-8 inline-block max-w-4xl">
						<div class="flex items-center justify-center gap-4 mb-6">
							<div class="text-4xl">üì±</div>
							<h3 class="text-2xl font-bold" style="color: var(--slack-blue);">iOS Development</h3>
						</div>
						
						<div class="grid md:grid-cols-2 gap-6 text-left">
							<div class="space-y-4">
								<h4 class="text-lg font-bold text-gray-800 dark:text-gray-200">SwiftUI Expertise</h4>
								<p class="text-gray-700 dark:text-gray-300">
									Building native iOS apps with modern SwiftUI, combining elegant user interfaces 
									with robust data handling and real-time features.
								</p>
								<div class="flex flex-wrap gap-2">
									<span class="px-3 py-1 bg-white dark:bg-gray-800 rounded-full text-xs font-medium border-2 border-black">SwiftUI</span>
									<span class="px-3 py-1 bg-white dark:bg-gray-800 rounded-full text-xs font-medium border-2 border-black">Combine</span>
									<span class="px-3 py-1 bg-white dark:bg-gray-800 rounded-full text-xs font-medium border-2 border-black">Core Data</span>
									<span class="px-3 py-1 bg-white dark:bg-gray-800 rounded-full text-xs font-medium border-2 border-black">CloudKit</span>
								</div>
							</div>
							
							<div class="space-y-4">
								<h4 class="text-lg font-bold text-gray-800 dark:text-gray-200">Research Apps</h4>
								<p class="text-gray-700 dark:text-gray-300">
									Developing specialized iOS apps for data collection in research settings, 
									including attention training tasks and behavioral experiments.
								</p>
								<div class="flex flex-wrap gap-2">
									<span class="px-3 py-1 bg-white dark:bg-gray-800 rounded-full text-xs font-medium border-2 border-black">ResearchKit</span>
									<span class="px-3 py-1 bg-white dark:bg-gray-800 rounded-full text-xs font-medium border-2 border-black">HealthKit</span>
									<span class="px-3 py-1 bg-white dark:bg-gray-800 rounded-full text-xs font-medium border-2 border-black">ARKit</span>
									<span class="px-3 py-1 bg-white dark:bg-gray-800 rounded-full text-xs font-medium border-2 border-black">Vision</span>
								</div>
							</div>
						</div>
						
						<div class="mt-6 p-4 bg-white dark:bg-gray-800 rounded-lg border-2 border-black">
							<div class="flex items-center gap-3 justify-center">
								<span class="text-2xl">üèÜ</span>
								<div class="text-center">
									<p class="font-bold text-gray-800 dark:text-gray-200">Featured in Research</p>
									<p class="text-sm text-gray-600 dark:text-gray-400">iOS apps powering cognitive neuroscience studies at Stanford</p>
								</div>
							</div>
						</div>
					</div>
				</div>
			</section>

			<!-- Publications Preview -->
			<section class="mb-16">
				<div class="text-center mb-12">
					<h2 class="text-3xl font-bold mb-4">Recent Publications</h2>
					<p class="text-gray-600 dark:text-gray-400 max-w-2xl mx-auto">Latest peer-reviewed research in cognitive neuroscience and memory</p>
				</div>
				
				<!-- Show only the most recent publication -->
				{pubs.slice(0, 1).map((pub, index) => (
					<article class="citation neobrutalist-card bg-gradient-to-r from-gray-50 to-white dark:from-gray-800 dark:to-gray-700 p-8 hover:shadow-brutal-lg transition-all duration-200 mb-8">
						<div class="flex items-start gap-6">
							<div class="flex-shrink-0 w-12 h-12 bg-gradient-to-br from-blue-600 to-purple-600 text-white rounded-full flex items-center justify-center text-lg font-bold border-2 border-black">
								‚ú®
							</div>
							<div class="flex-1 min-w-0">
								<div class="authors mb-3 text-lg font-semibold break-words overflow-wrap-anywhere">
									<Fragment set:html={pub.data.authors} />
								</div>
								<h3 class="text-xl font-bold mb-4 text-gray-900 dark:text-white leading-tight">
									<Fragment set:html={pub.data.title} />
								</h3>
								<div class="journal mb-4 text-blue-600 dark:text-blue-400 text-lg">
									<em>{pub.data.journal}</em>
									{pub.data.pages && <span class="text-gray-600 dark:text-gray-400">, <Fragment set:html={pub.data.pages} /></span>}
									<span class="year ml-2 font-medium">({pub.data.pubDate.getFullYear()})</span>
								</div>
								
								<div class="flex flex-wrap gap-3 mb-4">
									{pub.data.doi && <a href={pub.data.doi} target="_blank" class="inline-flex items-center px-4 py-2 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 text-sm font-medium rounded-full hover:bg-blue-200 dark:hover:bg-blue-800 transition-colors border-2 border-black">üîó DOI</a>}
									{pub.data.pdf && <a href={pub.data.pdf} target="_blank" class="inline-flex items-center px-4 py-2 bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200 text-sm font-medium rounded-full hover:bg-red-200 dark:hover:bg-red-800 transition-colors border-2 border-black">üìÑ PDF</a>}
								</div>
							</div>
						</div>
					</article>
				))}
				
				<div class="text-center mt-8">
					<a href="/publications" class="neobrutalist-card bg-gradient-to-r from-purple-100 to-blue-100 dark:from-purple-900 dark:to-blue-900 p-6 hover:shadow-brutal-lg transition-all duration-200 border-3 border-black inline-flex items-center gap-4">
						<div class="text-3xl">üìö</div>
						<div class="text-left">
							<h3 class="font-bold text-xl text-gray-900 dark:text-white">View All Publications</h3>
							<p class="text-sm text-gray-600 dark:text-gray-400">Explore {pubs.length} peer-reviewed papers</p>
						</div>
					</a>
				</div>
			</section>
		</main>
		<Footer />
		
		<!-- Interactive Elements -->
		<InteractiveElements />
		
		<!-- View Transition Enhancer -->
		<ViewTransitionEnhancer enableParticleEffects={true} />
	</body>
</html>
