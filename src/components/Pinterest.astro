---
// Pinterest Component
// Configure your Pinterest boards here
// Format: https://www.pinterest.com/USERNAME/BOARD-NAME/
// The component will automatically extract username and board name from the URL
const boards = [
  {
    title: "Design Inspiration",
    url: "https://www.pinterest.com/yourusername/design-inspiration/",
    description: "UI/UX designs, typography, and visual inspiration"
  },
  {
    title: "Architecture",
    url: "https://www.pinterest.com/yourusername/architecture/",
    description: "Modern architecture and interior spaces"
  },
  {
    title: "Nature & Travel",
    url: "https://www.pinterest.com/yourusername/nature-travel/",
    description: "Beautiful landscapes and travel destinations"
  },
  {
    title: "Art & Illustration",
    url: "https://www.pinterest.com/yourusername/art-illustration/",
    description: "Contemporary art and digital illustrations"
  },
  {
    title: "Photography",
    url: "https://www.pinterest.com/yourusername/photography/",
    description: "Portrait, street, and editorial photography"
  },
  {
    title: "Fashion & Style",
    url: "https://www.pinterest.com/yourusername/fashion/",
    description: "Fashion editorials and style inspiration"
  },
];

interface Board {
  title: string;
  url: string;
  description?: string;
}
---

<section id="pinterest" class="py-16 lg:py-24 page-section overflow-hidden" style="opacity: 0;">
  <div class="max-w-[1800px] mx-auto px-8 sm:px-12 lg:px-20 xl:px-28 2xl:px-32">
    <!-- Section Header -->
    <div class="grid lg:grid-cols-2 gap-8 lg:gap-24 mb-12">
      <div>
        <span class="text-xs font-mono uppercase tracking-widest mb-6 block" style="color: var(--ink-tertiary);">
          Inspiration
        </span>
        <h2 class="text-4xl md:text-5xl lg:text-6xl font-display font-medium leading-[1.1]" style="color: var(--ink-primary);">
          Pinterest boards that inspire me
        </h2>
      </div>
      <div class="lg:pt-12">
        <p class="text-lg leading-relaxed" style="color: var(--ink-secondary);">
          A curated collection of Pinterest boards covering design, architecture, photography, and more.
          Each board represents a different facet of visual inspiration that influences my work.
        </p>
      </div>
    </div>

    <!-- Pinterest Stats -->
    <div id="pinterest-stats" class="mb-16 grid grid-cols-2 md:grid-cols-3 gap-6">
      <div class="stat-card">
        <div class="stat-value">{boards.length}</div>
        <div class="stat-label">Curated Boards</div>
      </div>
      <div class="stat-card">
        <div class="stat-value">
          <svg class="w-8 h-8 inline-block" viewBox="0 0 24 24" fill="currentColor">
            <path d="M12.017 0C5.396 0 .029 5.367.029 11.987c0 5.079 3.158 9.417 7.618 11.162-.105-.949-.199-2.403.041-3.439.219-.937 1.406-5.957 1.406-5.957s-.359-.72-.359-1.781c0-1.663.967-2.911 2.168-2.911 1.024 0 1.518.769 1.518 1.688 0 1.029-.653 2.567-.992 3.992-.285 1.193.6 2.165 1.775 2.165 2.128 0 3.768-2.245 3.768-5.487 0-2.861-2.063-4.869-5.008-4.869-3.41 0-5.409 2.562-5.409 5.199 0 1.033.394 2.143.889 2.741.099.12.112.225.085.345-.09.375-.293 1.199-.334 1.363-.053.225-.172.271-.401.165-1.495-.69-2.433-2.878-2.433-4.646 0-3.776 2.748-7.252 7.92-7.252 4.158 0 7.392 2.967 7.392 6.923 0 4.135-2.607 7.462-6.233 7.462-1.214 0-2.354-.629-2.758-1.379l-.749 2.848c-.269 1.045-1.004 2.352-1.498 3.146 1.123.345 2.306.535 3.55.535 6.607 0 11.985-5.365 11.985-11.987C23.97 5.39 18.592.026 11.985.026L12.017 0z"/>
          </svg>
        </div>
        <div class="stat-label">Follow on Pinterest</div>
      </div>
      <div class="stat-card">
        <div class="stat-value">âˆž</div>
        <div class="stat-label">Endless Inspiration</div>
      </div>
    </div>

    <!-- Pinterest Boards Grid with Embedded Pins -->
    <div class="boards-container space-y-16">
      {boards.map((board, index) => (
        <div class="board-section" data-index={index}>
          <!-- Board Header -->
          <div class="board-header mb-6">
            <div class="flex items-start justify-between gap-4 flex-wrap">
              <div>
                <h3 class="text-2xl md:text-3xl font-display font-medium mb-2" style="color: var(--ink-primary);">
                  {board.title}
                </h3>
                {board.description && (
                  <p class="text-base leading-relaxed max-w-2xl" style="color: var(--ink-secondary);">
                    {board.description}
                  </p>
                )}
              </div>
              <a
                href={board.url}
                target="_blank"
                rel="noopener noreferrer"
                class="inline-flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium transition-all duration-300 hover:scale-105 whitespace-nowrap"
                style="background-color: var(--surface-secondary); color: var(--ink-primary); border: 1px solid var(--border-subtle);"
              >
                <svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor">
                  <path d="M12.017 0C5.396 0 .029 5.367.029 11.987c0 5.079 3.158 9.417 7.618 11.162-.105-.949-.199-2.403.041-3.439.219-.937 1.406-5.957 1.406-5.957s-.359-.72-.359-1.781c0-1.663.967-2.911 2.168-2.911 1.024 0 1.518.769 1.518 1.688 0 1.029-.653 2.567-.992 3.992-.285 1.193.6 2.165 1.775 2.165 2.128 0 3.768-2.245 3.768-5.487 0-2.861-2.063-4.869-5.008-4.869-3.41 0-5.409 2.562-5.409 5.199 0 1.033.394 2.143.889 2.741.099.12.112.225.085.345-.09.375-.293 1.199-.334 1.363-.053.225-.172.271-.401.165-1.495-.69-2.433-2.878-2.433-4.646 0-3.776 2.748-7.252 7.92-7.252 4.158 0 7.392 2.967 7.392 6.923 0 4.135-2.607 7.462-6.233 7.462-1.214 0-2.354-.629-2.758-1.379l-.749 2.848c-.269 1.045-1.004 2.352-1.498 3.146 1.123.345 2.306.535 3.55.535 6.607 0 11.985-5.365 11.985-11.987C23.97 5.39 18.592.026 11.985.026L12.017 0z"/>
                </svg>
                View on Pinterest
              </a>
            </div>
          </div>

          <!-- Embedded Pinterest Board -->
          <div class="board-embed-wrapper rounded-2xl overflow-hidden" style="background-color: var(--surface-secondary); border: 1px solid var(--border-subtle);">
            <div
              class="pinterest-board-embed"
              data-pin-do="embedBoard"
              data-pin-board-width="100%"
              data-pin-scale-height="400"
              data-pin-scale-width="80"
              data-pin-url={board.url}
            ></div>
          </div>
        </div>
      ))}
    </div>

    <!-- CTA to Pinterest Profile -->
    <div class="mt-16 text-center">
      <a
        href="https://www.pinterest.com/yourusername/"
        target="_blank"
        rel="noopener noreferrer"
        class="inline-flex items-center gap-3 px-8 py-4 rounded-full font-medium transition-all duration-300 hover:scale-105"
        style="background-color: var(--surface-secondary); color: var(--ink-primary); border: 1px solid var(--border-subtle);"
      >
        <svg class="w-5 h-5" viewBox="0 0 24 24" fill="currentColor">
          <path d="M12.017 0C5.396 0 .029 5.367.029 11.987c0 5.079 3.158 9.417 7.618 11.162-.105-.949-.199-2.403.041-3.439.219-.937 1.406-5.957 1.406-5.957s-.359-.72-.359-1.781c0-1.663.967-2.911 2.168-2.911 1.024 0 1.518.769 1.518 1.688 0 1.029-.653 2.567-.992 3.992-.285 1.193.6 2.165 1.775 2.165 2.128 0 3.768-2.245 3.768-5.487 0-2.861-2.063-4.869-5.008-4.869-3.41 0-5.409 2.562-5.409 5.199 0 1.033.394 2.143.889 2.741.099.12.112.225.085.345-.09.375-.293 1.199-.334 1.363-.053.225-.172.271-.401.165-1.495-.69-2.433-2.878-2.433-4.646 0-3.776 2.748-7.252 7.92-7.252 4.158 0 7.392 2.967 7.392 6.923 0 4.135-2.607 7.462-6.233 7.462-1.214 0-2.354-.629-2.758-1.379l-.749 2.848c-.269 1.045-1.004 2.352-1.498 3.146 1.123.345 2.306.535 3.55.535 6.607 0 11.985-5.365 11.985-11.987C23.97 5.39 18.592.026 11.985.026L12.017 0z"/>
        </svg>
        View all boards on Pinterest
        <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" />
        </svg>
      </a>
    </div>
  </div>
</section>

<style>
  .stat-card {
    padding: 1.5rem;
    border-radius: 1rem;
    background-color: var(--surface-secondary);
    border: 1px solid var(--border-subtle);
    transition: all 0.3s ease;
  }

  .stat-card:hover {
    border-color: var(--accent-primary);
    transform: translateY(-2px);
  }

  .stat-value {
    font-size: 2rem;
    font-weight: 600;
    color: var(--accent-primary);
    margin-bottom: 0.5rem;
  }

  .stat-label {
    font-size: 0.875rem;
    color: var(--ink-tertiary);
  }

  .board-section {
    animation: fadeInUp 0.6s ease-out backwards;
  }

  .board-section:nth-child(1) { animation-delay: 0.1s; }
  .board-section:nth-child(2) { animation-delay: 0.2s; }
  .board-section:nth-child(3) { animation-delay: 0.3s; }
  .board-section:nth-child(4) { animation-delay: 0.4s; }
  .board-section:nth-child(5) { animation-delay: 0.5s; }
  .board-section:nth-child(6) { animation-delay: 0.6s; }

  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(30px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .board-embed-wrapper {
    padding: 1.5rem;
    transition: all 0.3s ease;
  }

  .board-embed-wrapper:hover {
    border-color: var(--accent-primary) !important;
  }

  /* Pinterest embed styling overrides */
  .pinterest-board-embed {
    min-height: 400px;
  }

  /* Make Pinterest embeds match theme */
  :global(.dark) .board-embed-wrapper {
    background-color: var(--surface-secondary);
  }
</style>

<!-- Pinterest Embed Script -->
<script async defer src="https://assets.pinterest.com/js/pinit.js"></script>

<!-- Re-initialize Pinterest embeds after view transitions -->
<script>
  function initPinterestEmbeds() {
    // Pinterest provides a global function to process embeds
    if (window.PinUtils) {
      window.PinUtils.build();
    }
  }

  // Initialize on load
  if (typeof window !== 'undefined') {
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initPinterestEmbeds);
    } else {
      initPinterestEmbeds();
    }

    // Re-initialize after Astro page transitions
    document.addEventListener('astro:page-load', () => {
      setTimeout(initPinterestEmbeds, 100);
    });
  }
</script>
